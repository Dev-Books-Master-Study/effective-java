## 63. 문자열 연결은 느리니 주의하라

<aside>
💡 문자열 연결은 성능이 떨어진다.

</aside>

- 문자열 연결 연산자(+)는 간편하지만 성능이 떨어진다.
- 문자열 n개를 연결하는 데 걸리는 시간은 nˆ2 (문자열은 불변 → 양쪽 내용을 모두 복사해야함)
- StringBuilder의 append 메서드를 사용하자

## 64. 객체는 인터페이스를 사용해 참조하라

<aside>
💡 적합한 인터페이스가 있다면 가능한 모든 것을 인터페이스 타입으로 선언하라

</aside>

```java
올바른 예시 (인터페이스 타입 사용)
Set<Son> sonSet = new LinkedHashSet<>();

나쁜 예시 (클래스 타입 사용)
LinkedHashSet<Son> sonSet = new LinkedHashSet<>();
```

- 객체의 실제 클래스를 사용하는 상황은 오직 생성자 생성 뿐
- 인터페이스 타입 사용은 프로그램을 유연하게 작성할 수 있다.
- 예외 : 원래 클래스가 인터페이스에서 정의한 기능 이외의 특별한 기능을 제공하는 경우
    - 새로운 클래스도 반드시 같은 기능을 제공해야함
    - 예) LinkedHashSet을 HashSet으로 변경하면 문제가 생김 (순회 순서 보장X)

<aside>
💡 적합한 인터페이스가 없다면 클래스로 참조하라

</aside>

- 예시 1. String과 BigInteger
    - 값 클래스는 final인 경우가 많고 상응하는 인터페이스가 거의 존재하지 않음
- 예시 2. 클래스 기반으로 작성된 프레임워크가 제공하는 객체
- 예시 3. 인터페이스에 없는 특별한 메서드를 제공하는 클래스
    - PrioirtyQueue의 comparator 메서드

## 65. 리플렉션보다 인터페이스를 사용하라

<aside>
💡 리플렉션은 제한적으로 사용하라

</aside>

- 리플렉션 장점
    - 임의의 클래스에 접근 가능
    - 클래스의 생성자, 메서드, 필드에 해당하는 값을 조회 및 조작 가능
    - 컴파일 당시에 존재하지 않던 클래스를 이용할 수 있음
- 리플렉션 단점
    - 컴파일타입의 타입 검사가 주는 이점(런타임 오류)을 누릴 수 없음
    - 코드가 지저분하고 장황함
    - 성능이 떨어짐
        - 리플렉션을 통한 메서드 호출은 일반 메서드 호출보다 훨씬 느리다.
- 되도록 객체 생성에만 사용하고 객체를 이용할 때는 인터페이스나 상위 클래스로 형변환해 사용하자

## 66. 네이티브 메서드는 신중히 사용하라

<aside>
💡 네이티브 메서드로 개선 효과를 기대하기 힘들다. 사용을 지양하자

</aside>

- 네이티브 매서드 → C, C++로 작성한 메서드
- 용도
    - 레지스트리 같은 플랫폼 특화 기능
    - 네이티브 코드(C, C++)로 작성된 기존 라이브러리 사용
    - 성능에 영향을 주는 영역만 따로 네이티브 언어로 사용
- 용도가 줄어들고 있고, 성능 개선 목적으로는 네이티브 메서드 사용을 권장하지 않음
    - 지금의 자바는 비슷한 성능을 보여줌


## 67. 최적화는 신중히 하라

<aside>
💡 좋은 프로그램을 작성하다 보면 성능도 좋아지니 빠른 프로그램을 지향하지 마라

</aside>

- 최적화는 대체로 좋은 결과를 내지 않는다.
- 빠른 프로그램 <<< 좋은 프로그램
- 구현상의 문제 → 나중에 최적화로 해결 가능
- 아키텍처 결함 → 시스템 전체 수정 OR 해결 불가능
- 성능을 제한하는 설계를 피하라
    - ex) 컴포넌트, 외부 시스템과의 소통 방식 (API, 네트워크 프로토콜…)
- API 설계 시 성능에 주는 영향을 고려하라
    - public 타입을 가변으로 만들면(내부 데이터를 변경할 수 있으면) 불필요한 방어적 복사를 유발
- 잘 설계된 API는 성능도 좋다. 성능을 위해 API를 왜곡하지 말자
- 최적화 시도 전후로 성능을 측정하라

## 68. 일반적으로 통용되는 명명 규칙을 따르라

<aside>
💡 좋은 프로그램을 작성하다 보면 성능도 좋아지니 빠른 프로그램을 지향하지 마라

</aside>

- 패키지와 모듈 이름은 점(.)으로 구분하고 소문자 혹은 숫자로 작성한다.
- 메서드와 필드 이름은 소문자로 시작한다.
- 상수 필드는 대문자와 밑줄로 작성한다.
- 타입 매개변수는 한 문자로 표현한다.
    - 키 값은 `K`, 예외는 `X`, 메서드 반환 타입은 `R`
- 메서드 이름은 동사나 동사구로 짓는다.
- boolean 값을 반환하는 메서드는 `is`, `has`로 시작한다.
- 해당 인스턴스의 속성을 반환하는 메서드는 `get`으로 시작한다.
- 객체 타입을 다른 타입의 객체로 반환하는 메서드는 `to{Type}`으로 짓는다.
    - `toString`, `toArray`